(function ($) {
'use strict';

$ = 'default' in $ ? $['default'] : $;

var getLocn = function() {
    return $.getJSON('http://ip-api.com/json')
        .then(function(data) {
            return {
                lat: data.lat,
                lng: data.lon
            };
        });
}

var mashapeKey = 'D38nBJDMDDmshtvEpJRaWzd5nQkap1RbPomjsn55ttulUTrvTh';

var getWeatherData = function(_lat, _lng) {
    return $.ajax({
        type: 'get',
        dataType: 'json',
        beforeSend: function(request) {
            request.setRequestHeader('X-Mashape-Key', mashapeKey);
        },
        url: 'https://simple-weather.p.mashape.com/weatherdata',
        data: {
            lat: _lat,
            lng: _lng
        }
    })
}

function EventEmitter() {
    var callbacks = {};

    this.on = function( event, cb ) {
        if ( !callbacks[event] ) callbacks[event] = [];

        callbacks[event].push( cb );
    }

    this.trigger = function( event, data ) {

        if ( !callbacks[event] ) return;

        callbacks[event].forEach(function( callback ) {
            callback.call(this, data)
        });
    }
}

var EventEmitterMixin = function( proto ) {
    return EventEmitter.call( proto );
}

/* eslint-disable */
if (typeof Object.assign != 'function') {
  (function () {
    Object.assign = function (target) {
      'use strict';
      // We must check against these specific cases.
      if (target === undefined || target === null) {
        throw new TypeError('Cannot convert undefined or null to object');
      }

      var output = Object(target);
      for (var index = 1; index < arguments.length; index++) {
        var source = arguments[index];
        if (source !== undefined && source !== null) {
          for (var nextKey in source) {
            if (source.hasOwnProperty(nextKey)) {
              output[nextKey] = source[nextKey];
            }
          }
        }
      }
      return output;
    };
  })();
}
/* eslint-enable */

function copy( obj ) {
    return Object.assign( {}, obj );
}

var WeatherModel = function() {
    var store = {};

    this.set = function( obj ) {
        Object.keys( obj ).forEach(function( key ) {
            store[key] = obj[key];
        })

        this.trigger( 'update', copy( store ) );
    }

    this.get = function( key ) {
        return store[ key ];
    }
};

EventEmitterMixin(WeatherModel.prototype);

var forcastView = function(data) {
    var _toggle = data.format === 'celsius' ? 'fahrenheit' : 'celsius';

    return '<p>' + data.desc + '</p>' +
           '<p>temp: <span id="js-temp">' + data.temp + '</span></p>' +
           '<button id="js-temp-toggle">show in ' + _toggle + '</button>';
}

var loadingView = function() {
    return '<p>Loading, Please wait...</p>';
}

/**
 * function to return value at give path
 *
 * @function get
 * @param {Object} obj - the object to search through
 * @param {Array} pathArr - the path to the property
 * @return {*} deaults of undefined
 **/
/* eslint-disable no-nested-ternary */
function get(obj, pathArr) {
    return !obj ? void 0 :
        pathArr.length === 1 ? obj[pathArr[0]] :
        get(obj[pathArr[0]], pathArr.slice(1));
}
/* eslint-enable no-nested-ternary */

/**
 * Convert Celsius to Fahrenheit and visa versa
 *
 * @function tempConvert
 * @param {Object} temp - info about the temp to be converted
 * @param {Number} temp.temp - the actual temperature
 * @param {String} temp.format - the format
 * @return {Object|undefined} the converted object or undefined
 **/
/* eslint-disable no-nested-ternary */
function tempConvert(temp) {
    return temp.format === 'celsius' ? {format: 'fahrenheit', temp: (temp.temp * 9 / 5) + 32 } :
        temp.format === 'fahrenheit' ? {format: 'celsius', temp: (temp.temp - 32) * 5 / 9} :
        void 0;
}
/* eslint-enable no-nested-ternary */

/**
 * genterate a function  to render a template into the DOM
 *
 * @function templateRenderer
 * @param {String} selector - CSS selector for where the template is to be injected
 * @param {Function} viewFunc - a function returns HMTL
 * @return {Function} a function that takes a data obect as a param
**/
function templateRenderer( selector, viewFunc ) {
    return function( data ) {
        return $( selector ).html( viewFunc( data ) );
    }
}

var renderForcast = templateRenderer( '#forcast', forcastView );
// render loading message
templateRenderer( '#forcast', loadingView )();

var weatherModel = new WeatherModel();

weatherModel.on( 'update', renderForcast );

// get the location
getLocn()
    // then get the weather data
    .then(function(latLng) {
        return getWeatherData(latLng.lat, latLng.lng);
    })
    // do something useful with the data
    .then(function(data) {

        weatherModel.set({
            desc: get(data, ['query', 'results', 'channel', 'item', 'condition', 'text']),
            temp: get(data, ['query', 'results', 'channel', 'item', 'condition', 'temp']),
            format: 'celsius'
        });

        $(document).on('click', '#js-temp-toggle', function() {
            weatherModel.set(tempConvert({
                temp: weatherModel.get( 'temp' ),
                format: weatherModel.get( 'format')
            }));
        });

    });

}(jQuery));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9ob21lL2phbWVzL0RldmVsb3BtZW50L2V4YW1wbGUtbW9kdWxlL3NyYy9zZXJ2aWNlcy9nZXRMb2NuLmpzIiwiL2hvbWUvamFtZXMvRGV2ZWxvcG1lbnQvZXhhbXBsZS1tb2R1bGUvc3JjL2NvbmZpZy9rZXlzLmpzIiwiL2hvbWUvamFtZXMvRGV2ZWxvcG1lbnQvZXhhbXBsZS1tb2R1bGUvc3JjL3NlcnZpY2VzL2dldFdlYXRoZXJEYXRhLmpzIiwiL2hvbWUvamFtZXMvRGV2ZWxvcG1lbnQvZXhhbXBsZS1tb2R1bGUvc3JjL21peGlucy9FdmVudEVtaXR0ZXIuanMiLCIvaG9tZS9qYW1lcy9EZXZlbG9wbWVudC9leGFtcGxlLW1vZHVsZS9zcmMvcG9seWZpbGxzL09iamVjdC5hc3NpZ24uanMiLCIvaG9tZS9qYW1lcy9EZXZlbG9wbWVudC9leGFtcGxlLW1vZHVsZS9zcmMvbW9kZWxzL1dlYXRoZXJNb2RlbC5qcyIsIi9ob21lL2phbWVzL0RldmVsb3BtZW50L2V4YW1wbGUtbW9kdWxlL3NyYy92aWV3cy9mb3JjYXN0Vmlldy5qcyIsIi9ob21lL2phbWVzL0RldmVsb3BtZW50L2V4YW1wbGUtbW9kdWxlL3NyYy92aWV3cy9sb2FkaW5nVmlldy5qcyIsIi9ob21lL2phbWVzL0RldmVsb3BtZW50L2V4YW1wbGUtbW9kdWxlL3NyYy9oZWxwZXJzL21pc2MuanMiLCIvaG9tZS9qYW1lcy9EZXZlbG9wbWVudC9leGFtcGxlLW1vZHVsZS9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICQuZ2V0SlNPTignaHR0cDovL2lwLWFwaS5jb20vanNvbicpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbGF0OiBkYXRhLmxhdCxcbiAgICAgICAgICAgICAgICBsbmc6IGRhdGEubG9uXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbn1cbiIsImV4cG9ydCB2YXIgbWFzaGFwZUtleSA9ICdEMzhuQkpETUREbXNodHZFcEpSYVd6ZDVuUWthcDFSYlBvbWpzbjU1dHR1bFVUcnZUaCc7XG4iLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuXG5pbXBvcnQge1xuICAgIG1hc2hhcGVLZXlcbn0gZnJvbSAnLi4vY29uZmlnL2tleXMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihfbGF0LCBfbG5nKSB7XG4gICAgcmV0dXJuICQuYWpheCh7XG4gICAgICAgIHR5cGU6ICdnZXQnLFxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbihyZXF1ZXN0KSB7XG4gICAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ1gtTWFzaGFwZS1LZXknLCBtYXNoYXBlS2V5KTtcbiAgICAgICAgfSxcbiAgICAgICAgdXJsOiAnaHR0cHM6Ly9zaW1wbGUtd2VhdGhlci5wLm1hc2hhcGUuY29tL3dlYXRoZXJkYXRhJyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgbGF0OiBfbGF0LFxuICAgICAgICAgICAgbG5nOiBfbG5nXG4gICAgICAgIH1cbiAgICB9KVxufVxuIiwiZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICAgIHZhciBjYWxsYmFja3MgPSB7fTtcblxuICAgIHRoaXMub24gPSBmdW5jdGlvbiggZXZlbnQsIGNiICkge1xuICAgICAgICBpZiAoICFjYWxsYmFja3NbZXZlbnRdICkgY2FsbGJhY2tzW2V2ZW50XSA9IFtdO1xuXG4gICAgICAgIGNhbGxiYWNrc1tldmVudF0ucHVzaCggY2IgKTtcbiAgICB9XG5cbiAgICB0aGlzLnRyaWdnZXIgPSBmdW5jdGlvbiggZXZlbnQsIGRhdGEgKSB7XG5cbiAgICAgICAgaWYgKCAhY2FsbGJhY2tzW2V2ZW50XSApIHJldHVybjtcblxuICAgICAgICBjYWxsYmFja3NbZXZlbnRdLmZvckVhY2goZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCBkYXRhKVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCBwcm90byApIHtcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmNhbGwoIHByb3RvICk7XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaWYgKHR5cGVvZiBPYmplY3QuYXNzaWduICE9ICdmdW5jdGlvbicpIHtcbiAgKGZ1bmN0aW9uICgpIHtcbiAgICBPYmplY3QuYXNzaWduID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgJ3VzZSBzdHJpY3QnO1xuICAgICAgLy8gV2UgbXVzdCBjaGVjayBhZ2FpbnN0IHRoZXNlIHNwZWNpZmljIGNhc2VzLlxuICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkIHx8IHRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG91dHB1dCA9IE9iamVjdCh0YXJnZXQpO1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBzb3VyY2UgIT09IG51bGwpIHtcbiAgICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShuZXh0S2V5KSkge1xuICAgICAgICAgICAgICBvdXRwdXRbbmV4dEtleV0gPSBzb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG4gIH0pKCk7XG59XG4vKiBlc2xpbnQtZW5hYmxlICovXG4iLCJpbXBvcnQgRXZlbnRFbWl0dGVyTWl4aW4gZnJvbSAnLi4vbWl4aW5zL0V2ZW50RW1pdHRlcic7XG5pbXBvcnQgJy4uL3BvbHlmaWxscy9PYmplY3QuYXNzaWduLmpzJztcblxuZnVuY3Rpb24gY29weSggb2JqICkge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKCB7fSwgb2JqICk7XG59XG5cbnZhciBXZWF0aGVyTW9kZWwgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RvcmUgPSB7fTtcblxuICAgIHRoaXMuc2V0ID0gZnVuY3Rpb24oIG9iaiApIHtcbiAgICAgICAgT2JqZWN0LmtleXMoIG9iaiApLmZvckVhY2goZnVuY3Rpb24oIGtleSApIHtcbiAgICAgICAgICAgIHN0b3JlW2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLnRyaWdnZXIoICd1cGRhdGUnLCBjb3B5KCBzdG9yZSApICk7XG4gICAgfVxuXG4gICAgdGhpcy5nZXQgPSBmdW5jdGlvbigga2V5ICkge1xuICAgICAgICByZXR1cm4gc3RvcmVbIGtleSBdO1xuICAgIH1cbn07XG5cbkV2ZW50RW1pdHRlck1peGluKFdlYXRoZXJNb2RlbC5wcm90b3R5cGUpO1xuXG5leHBvcnQgZGVmYXVsdCBXZWF0aGVyTW9kZWw7XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihkYXRhKSB7XG4gICAgdmFyIF90b2dnbGUgPSBkYXRhLmZvcm1hdCA9PT0gJ2NlbHNpdXMnID8gJ2ZhaHJlbmhlaXQnIDogJ2NlbHNpdXMnO1xuXG4gICAgcmV0dXJuICc8cD4nICsgZGF0YS5kZXNjICsgJzwvcD4nICtcbiAgICAgICAgICAgJzxwPnRlbXA6IDxzcGFuIGlkPVwianMtdGVtcFwiPicgKyBkYXRhLnRlbXAgKyAnPC9zcGFuPjwvcD4nICtcbiAgICAgICAgICAgJzxidXR0b24gaWQ9XCJqcy10ZW1wLXRvZ2dsZVwiPnNob3cgaW4gJyArIF90b2dnbGUgKyAnPC9idXR0b24+Jztcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAnPHA+TG9hZGluZywgUGxlYXNlIHdhaXQuLi48L3A+Jztcbn1cbiIsImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5cbi8qKlxuICogZnVuY3Rpb24gdG8gcmV0dXJuIHZhbHVlIGF0IGdpdmUgcGF0aFxuICpcbiAqIEBmdW5jdGlvbiBnZXRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogLSB0aGUgb2JqZWN0IHRvIHNlYXJjaCB0aHJvdWdoXG4gKiBAcGFyYW0ge0FycmF5fSBwYXRoQXJyIC0gdGhlIHBhdGggdG8gdGhlIHByb3BlcnR5XG4gKiBAcmV0dXJuIHsqfSBkZWF1bHRzIG9mIHVuZGVmaW5lZFxuICoqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tbmVzdGVkLXRlcm5hcnkgKi9cbmZ1bmN0aW9uIGdldChvYmosIHBhdGhBcnIpIHtcbiAgICByZXR1cm4gIW9iaiA/IHZvaWQgMCA6XG4gICAgICAgIHBhdGhBcnIubGVuZ3RoID09PSAxID8gb2JqW3BhdGhBcnJbMF1dIDpcbiAgICAgICAgZ2V0KG9ialtwYXRoQXJyWzBdXSwgcGF0aEFyci5zbGljZSgxKSk7XG59XG4vKiBlc2xpbnQtZW5hYmxlIG5vLW5lc3RlZC10ZXJuYXJ5ICovXG5cbi8qKlxuICogQ29udmVydCBDZWxzaXVzIHRvIEZhaHJlbmhlaXQgYW5kIHZpc2EgdmVyc2FcbiAqXG4gKiBAZnVuY3Rpb24gdGVtcENvbnZlcnRcbiAqIEBwYXJhbSB7T2JqZWN0fSB0ZW1wIC0gaW5mbyBhYm91dCB0aGUgdGVtcCB0byBiZSBjb252ZXJ0ZWRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0ZW1wLnRlbXAgLSB0aGUgYWN0dWFsIHRlbXBlcmF0dXJlXG4gKiBAcGFyYW0ge1N0cmluZ30gdGVtcC5mb3JtYXQgLSB0aGUgZm9ybWF0XG4gKiBAcmV0dXJuIHtPYmplY3R8dW5kZWZpbmVkfSB0aGUgY29udmVydGVkIG9iamVjdCBvciB1bmRlZmluZWRcbiAqKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLW5lc3RlZC10ZXJuYXJ5ICovXG5mdW5jdGlvbiB0ZW1wQ29udmVydCh0ZW1wKSB7XG4gICAgcmV0dXJuIHRlbXAuZm9ybWF0ID09PSAnY2Vsc2l1cycgPyB7Zm9ybWF0OiAnZmFocmVuaGVpdCcsIHRlbXA6ICh0ZW1wLnRlbXAgKiA5IC8gNSkgKyAzMiB9IDpcbiAgICAgICAgdGVtcC5mb3JtYXQgPT09ICdmYWhyZW5oZWl0JyA/IHtmb3JtYXQ6ICdjZWxzaXVzJywgdGVtcDogKHRlbXAudGVtcCAtIDMyKSAqIDUgLyA5fSA6XG4gICAgICAgIHZvaWQgMDtcbn1cbi8qIGVzbGludC1lbmFibGUgbm8tbmVzdGVkLXRlcm5hcnkgKi9cblxuLyoqXG4gKiBnZW50ZXJhdGUgYSBmdW5jdGlvbiAgdG8gcmVuZGVyIGEgdGVtcGxhdGUgaW50byB0aGUgRE9NXG4gKlxuICogQGZ1bmN0aW9uIHRlbXBsYXRlUmVuZGVyZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvciAtIENTUyBzZWxlY3RvciBmb3Igd2hlcmUgdGhlIHRlbXBsYXRlIGlzIHRvIGJlIGluamVjdGVkXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB2aWV3RnVuYyAtIGEgZnVuY3Rpb24gcmV0dXJucyBITVRMXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gYSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgZGF0YSBvYmVjdCBhcyBhIHBhcmFtXG4qKi9cbmZ1bmN0aW9uIHRlbXBsYXRlUmVuZGVyZXIoIHNlbGVjdG9yLCB2aWV3RnVuYyApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oIGRhdGEgKSB7XG4gICAgICAgIHJldHVybiAkKCBzZWxlY3RvciApLmh0bWwoIHZpZXdGdW5jKCBkYXRhICkgKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7XG4gICAgZ2V0LFxuICAgIHRlbXBDb252ZXJ0LFxuICAgIHRlbXBsYXRlUmVuZGVyZXJcbn07XG4iLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuXG5pbXBvcnQgZ2V0TG9jbiBmcm9tICcuL3NlcnZpY2VzL2dldExvY24nO1xuaW1wb3J0IGdldFdlYXRoZXJEYXRhIGZyb20gJy4vc2VydmljZXMvZ2V0V2VhdGhlckRhdGEnO1xuXG5pbXBvcnQgV2VhdGhlck1vZGVsIGZyb20gJy4vbW9kZWxzL1dlYXRoZXJNb2RlbCc7XG5cbmltcG9ydCBmb3JjYXN0VmlldyBmcm9tICcuL3ZpZXdzL2ZvcmNhc3RWaWV3JztcbmltcG9ydCBsb2FkaW5nVmlldyBmcm9tICcuL3ZpZXdzL2xvYWRpbmdWaWV3JztcblxuaW1wb3J0IHtcbiAgICBnZXQsXG4gICAgdGVtcENvbnZlcnQsXG4gICAgdGVtcGxhdGVSZW5kZXJlclxufSBmcm9tICcuL2hlbHBlcnMvbWlzYyc7XG5cbnZhciByZW5kZXJGb3JjYXN0ID0gdGVtcGxhdGVSZW5kZXJlciggJyNmb3JjYXN0JywgZm9yY2FzdFZpZXcgKTtcbi8vIHJlbmRlciBsb2FkaW5nIG1lc3NhZ2VcbnRlbXBsYXRlUmVuZGVyZXIoICcjZm9yY2FzdCcsIGxvYWRpbmdWaWV3ICkoKTtcblxudmFyIHdlYXRoZXJNb2RlbCA9IG5ldyBXZWF0aGVyTW9kZWwoKTtcblxud2VhdGhlck1vZGVsLm9uKCAndXBkYXRlJywgcmVuZGVyRm9yY2FzdCApO1xuXG4vLyBnZXQgdGhlIGxvY2F0aW9uXG5nZXRMb2NuKClcbiAgICAvLyB0aGVuIGdldCB0aGUgd2VhdGhlciBkYXRhXG4gICAgLnRoZW4oZnVuY3Rpb24obGF0TG5nKSB7XG4gICAgICAgIHJldHVybiBnZXRXZWF0aGVyRGF0YShsYXRMbmcubGF0LCBsYXRMbmcubG5nKTtcbiAgICB9KVxuICAgIC8vIGRvIHNvbWV0aGluZyB1c2VmdWwgd2l0aCB0aGUgZGF0YVxuICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcblxuICAgICAgICB3ZWF0aGVyTW9kZWwuc2V0KHtcbiAgICAgICAgICAgIGRlc2M6IGdldChkYXRhLCBbJ3F1ZXJ5JywgJ3Jlc3VsdHMnLCAnY2hhbm5lbCcsICdpdGVtJywgJ2NvbmRpdGlvbicsICd0ZXh0J10pLFxuICAgICAgICAgICAgdGVtcDogZ2V0KGRhdGEsIFsncXVlcnknLCAncmVzdWx0cycsICdjaGFubmVsJywgJ2l0ZW0nLCAnY29uZGl0aW9uJywgJ3RlbXAnXSksXG4gICAgICAgICAgICBmb3JtYXQ6ICdjZWxzaXVzJ1xuICAgICAgICB9KTtcblxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI2pzLXRlbXAtdG9nZ2xlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB3ZWF0aGVyTW9kZWwuc2V0KHRlbXBDb252ZXJ0KHtcbiAgICAgICAgICAgICAgICB0ZW1wOiB3ZWF0aGVyTW9kZWwuZ2V0KCAndGVtcCcgKSxcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IHdlYXRoZXJNb2RlbC5nZXQoICdmb3JtYXQnKVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcblxuICAgIH0pO1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBRUEsY0FBZSxXQUFXO0lBQ3RCLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQztTQUNyQyxJQUFJLENBQUMsU0FBUyxJQUFJLEVBQUU7WUFDakIsT0FBTztnQkFDSCxHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUc7Z0JBQ2IsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHO2FBQ2hCLENBQUM7U0FDTCxDQUFDLENBQUM7Q0FDVjs7QUNWTSxJQUFJLFVBQVUsR0FBRyxvREFBb0QsQ0FBQzs7QUNNN0UscUJBQWUsU0FBUyxJQUFJLEVBQUUsSUFBSSxFQUFFO0lBQ2hDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQztRQUNWLElBQUksRUFBRSxLQUFLO1FBQ1gsUUFBUSxFQUFFLE1BQU07UUFDaEIsVUFBVSxFQUFFLFNBQVMsT0FBTyxFQUFFO1lBQzFCLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxlQUFl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
